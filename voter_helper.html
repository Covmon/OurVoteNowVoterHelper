<html>

<head>
	<style type="text/css">

		body {
			background-color: rgb(50,50,50);
		}

		p {
			
		}

		.wrapper {
			text-align: center;
		}
		
		.collapsible {
			margin-bottom: 2px;
			margin-top: 2px;
			background-color: #ee3233;
			border-radius: 2px;
			cursor: pointer;
			outline: none;
			width: 50vw;
			text-align: center;
			font-size: 15px;
			color: white;
			border: none;
			transition-duration: 0.1s;
			padding: 5px;
		}

		.active, .collapsible:hover {
			background-color: #ba2526;
		}

		.active:hover {
			background-color: #9e1f20;
		}

		.collapsible:after {
			content: '\002B';
			font-size: 13px;
			font-weight: bold;
			color: white;
			float: right;
		}

		.active:after {
			content: "\2212";
		}

		.content {
  			width: 50vw;
  			max-height: 0;
  			overflow: hidden;
  			transition: max-height 0.4s ease-out;
  			background-color: rgb(230, 230, 230);
  			/*
  			display: flex;
 			justify-content: center;*/
 			border-radius: 2px;
 			margin: 0 auto;
		}

		.button {
			font-size: 15px;
			background-color: white;
			border-radius: 1px;
			color: #ee3233;
			border: 2px solid #ee3233;
			padding: 8px 16px;
			-webkit-transition-duration: 0.4s; /*for safari*/
			transition-duration: 0.4s;
			cursor: pointer;
			margin: 15px 5px;
		}

		.button:hover {
			color: #fff;
			background-color: #ee3233;
		}

		.button-active {
			color: #fff;
			background-color: #ee3233;
		}

		.button-active:hover {
			color: #fff;
			border-color: #9e1f20;
			background-color: #9e1f20;
		}

		.button-deselected:hover {
			color: #ee3233;
			background-color: #fff;
			border-color: #ee3233;
		}

		.input-text {
			border: none;
			border-bottom: 3px solid gray;
			transition-duration: 0.4s;
			border-radius: 2px;
			outline: 0 none;
			font-size: 15px;
			margin: 5px 5px;
			padding: 8px 16px;
		}

		.input-text:hover {
			border-bottom: 3px solid #222;
		}

		.input-text:focus {
			border-color: #ee3233;
			background-color: white;
		}

		select {
			font-size: 100px;
			/*outline: 0 none;*/
		}

		select:focus {
			/*border: 3px solid #ee3233;*/
		}

		#revealer {

		}

	</style>


</head>

<body>

	<h1 style="color:white; text-align: center; margin: 20px;">Our Vote Now Voter Helper Tool</h1>

	<div class="wrapper">
		<button class = "collapsible initial" id="coll1">Are You Registered?</button>
		<div class="content">
			<button class="button 1" id="1-1">Yes</button>
			<button class="button 1" id="1-2">I'm not sure</button>
			<button class="button 1" id="1-3">No</button>
		</div>
	</div>

	<div class="wrapper">
		<button class = "collapsible" id="coll2">What's your age?</button>
		<div class="content">
			<p id="revealer">For the first answer, you selected: ?</p>

			<button class="button 2" id="2-1">Younger than 17 1/2</button>
			<button class="button 2" id="2-2">Older than 17 1/2</button>
		</div>
	</div>

	<div class="wrapper">
		<button class = "collapsible" id="coll3">Where's your residence?</button>
		<div class="content">
			<p id="revealer">For the second answer, you selected: ?</p>

			<input class="input-text" type="text" name="street" value="" placeholder="Street">
			<input class="input-text" type="text" name="city" value="" placeholder="City">
			<select class="select" name="state">
				<option value="" disabled selected>State</option>
				<option value="ga">GA</option>
				<option value="fl">FL</option>
				<option value="none">Other</option>
			</select>
			<input class="input-text" type="text" name="zip" value="" placeholder="Zip">
			

		</div>
	</div>


	<script type="text/javascript">

		var currentSelections = ["1-0", "2-0"];
		
		//Add collapse and expand events to all collapsibles
		var coll = document.getElementsByClassName("collapsible");
		var i;

		for (i = 0; i < coll.length; i++) {
	  		coll[i].addEventListener("click", function() {
	  			toggleCollapsable(this)
	  		});
		}

		/*Start with the first collapsable open*/
		var init = document.getElementsByClassName("initial");
		var j;

		for (i=0;i<init.length; i++) {
			toggleCollapsable(init[i]);
		}

		function toggleCollapsable(collapse) {
			collapse.classList.toggle("active");
			    var content = collapse.nextElementSibling;
			    if (content.style.maxHeight){
			      content.style.maxHeight = null;
			    } else {
			      content.style.maxHeight = content.scrollHeight + 100 + "px";
			    } 
		}

		//Add click button events to all buttons
		var buttons = document.getElementsByClassName("button");
		for (i = 0; i < buttons.length; i++) {
	  		buttons[i].addEventListener("click", function() {
	  			clickButton(this.id)
	  		});
		}

		/*Clicking the first collapsable's buttons triggers the next collapsable*/
		var buttons1 = document.getElementsByClassName("1");

		var k;
		for (k=0; k<buttons1.length; k++) {
			buttons1[k].addEventListener("click", function() {
				//toggleCollapsable(coll[0]);
				//toggleCollapsable(coll[1]);
			})
		}

		function clickButton(id) {

			var collRowNumber = id.charAt(0);
			var collRowIndex = collRowNumber - 1;

			var buttonNumber = id.charAt(2);

			if (id == currentSelections[collRowIndex]) { //we clicked the one that's already active
				var button = document.getElementById(id);
				button.classList.remove("button-active"); //Unselect current selection
				//button.style.color = "#ee3233";
				//button.style.backgroundColor = "white";
				currentSelections[collRowIndex] = "" + collRowNumber + "-0"

				switch (collRowNumber) {
					case "1":
					handleRow1Selection("?");
					break;
				}

			} else { //we clicked one that's not already active
				console.log(currentSelections);
				console.log(collRowIndex);
				if (currentSelections[collRowIndex].charAt(2) != "0") {
					document.getElementById(currentSelections[collRowIndex]).classList.remove("button-active"); //unhighlight the previous selection
				}

				currentSelections[collRowIndex] = id;
				console.log("Clicked button " + id + " in row " + collRowNumber);

				document.getElementById(id).classList.add("button-active");

				toggleCollapsable(coll[collRowIndex]);
				if (coll.length > collRowIndex + 1) {

					toggleCollapsable(coll[collRowIndex + 1]);
				}

				switch (collRowNumber) {
					case "1":
					handleRow1Selection(buttonNumber);
					break;
				}
			}

			/*
			window.alert(value)
			if (value = "unclicked") {
				window.alert(value)
				document.getElementById(id).style.color = '#fff';
  				document.getElementById(id).style.background = '#ee3233';
  				document.getElementById(id).value = "clicked"
  				window.alert(value)
  			} else {
  				window.alert(value)
  			  	document.getElementById(id).style.color = '#ee3233';
  				document.getElementById(id).style.background = 'white';
  				document.getElementById(id).value = "unclicked"
  				window.alert(value)
  			}*/
		}

		function handleRow1Selection(selection) {
			document.getElementById("revealer").innerHTML = "For the first answer, you selected: Button " + selection + ". Now enter your age.";
		}

	</script>

</body>
</html>